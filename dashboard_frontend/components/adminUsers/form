<form onSubmit={handleSubmit(onSubmit)}>
          <DialogHeader>
            <DialogTitle>Add User</DialogTitle>
          </DialogHeader>

          <div className="grid gap-4">
            <div className="grid gap-3">
              <span htmlFor="name-1">Name</span>
              <Input
                {...register("name", { required: "Name is required" })}
                id="name-1"
                placeholder="Enter user name"
              />
              {errors.name && (
                <span className="text-red-500">{errors.name.message}</span>
              )}
            </div>

            <div className="grid gap-3">
              <span htmlFor="email-1">Email</span>
              <Input
                {...register("email", { required: "Email is required" })}
                id="email-1"
                placeholder="Enter email"
              />
            </div>

            <Controller
              name="role"
              control={control}
              rules={{ required: "Role is required" }}
              render={({ field }) => (
                <Select
                  value={field.value} // bind current value
                  onValueChange={field.onChange} // update RHF on change
                >
                  <SelectTrigger className="w-full">
                    <SelectValue placeholder="Select a Role" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectGroup>
                      <SelectLabel>Role</SelectLabel>
                      <SelectItem value="user">
                        <Badge className="text-xs bg-gray-500">User</Badge>
                      </SelectItem>
                      <SelectItem value="admin">
                        <Badge className="text-xs bg-blue-500">Admin</Badge>
                      </SelectItem>
                    </SelectGroup>
                  </SelectContent>
                </Select>
              )}
            />
          </div>

          <DialogFooter>
            <DialogClose asChild>
              <Button variant="outline">Cancel</Button>
            </DialogClose>
            <Button type="submit">Save changes</Button>
          </DialogFooter>
        </form>